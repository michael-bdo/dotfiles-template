{{- /* chezmoi:modify-template */ -}}
{{- /* https://www.chezmoi.io/user-guide/manage-different-types-of-file/#manage-part-but-not-all-of-a-file */ -}}

{{- /* Load existing configuration */ -}}
{{- $result := dict -}}
{{- if not (.chezmoi.stdin | trim | empty) -}}
{{-   $result = fromJsonc .chezmoi.stdin -}}
{{- end -}}

{{- /* Set Editor Tab size */ -}}
{{- $result = setValueAtPath (list "editor.tabSize") 2 $result -}}

{{- /* Set Trim Options */ -}}
{{- $result = setValueAtPath (list "files.trimFinalNewlines") true $result -}}
{{- $result = setValueAtPath (list "files.trimTrailingWhitespace") true $result -}}

{{- /* Fix Linux title bars */ -}}
{{- $result = setValueAtPath (list "window.titleBarStyle") "custom" $result -}}

{{- toPrettyJson "    " $result | trimSuffix "\n" -}}
